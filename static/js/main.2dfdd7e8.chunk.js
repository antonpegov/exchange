(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{119:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.USD="USD",e.EUR="EUR",e.PLN="PLN",e.GBP="GBP"}(a||(a={}))},120:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.SELL="Sell",e.BUY="Buy"}(a||(a={}))},121:function(e,t){},122:function(e,t){},123:function(e,t){},19:function(e,t,n){"use strict";var a=n(119);n.d(t,"Currency",(function(){return a.a}));var c=n(120);n.d(t,"ExchangeMode",(function(){return c.a}));n(121),n(122),n(123)},190:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var a,c,r,o,i,u,b,s,l,d,j,O,h,f,x,g,p,m,y=n(0),v=n(10),C=n.n(v),A=n(238),B=n(148),E=n(17),w=n(18),S=n(21),k=n(68),T=n(103),M=n(75),L=n(228),U=n(239),R=n(242),P=n(231),D=n(229),I=n(230),N=n(226),G=Object(w.a)(N.a)(a||(a=Object(E.a)(["\n  box-shadow: 0px 2px 4px 2px lightblue !important;\n  margin: auto;\n  max-width: 400px;\n  min-width: 300px;\n  padding: 20px;\n"]))),_=n(147),z="#020941",$="#2699fb",Y="#84c6ff",F="white",W=Y,J=Object(_.a)({palette:{action:{disabled:"set color of text here"},primary:{main:z}},overrides:{MuiButton:{root:{fontSize:"1rem",fontFamily:'"Exo 2", "Roboto", "Helvetica", "Arial", sans-serif',margin:"5px"},outlinedPrimary:{backgroundColor:z,border:"solid 2px ".concat($),color:F,"&:hover":{backgroundColor:z,border:"solid 2px ".concat(Y)}},containedPrimary:{backgroundColor:$,color:F,"&:hover":{backgroundColor:Y}}},MuiTextField:{root:{display:"flex",marginBottom:"10px"}},MuiDialog:{root:{minWidth:"350px"}},MuiFab:{root:{backgroundColor:"aliceblue",color:"lightcoral",height:"40px",position:"absolute",width:"40px",zIndex:100}},MuiInput:{colorSecondary:{color:F},underline:{borderBottomColor:W,"&:not($disabled):after":{borderBottomColor:W},"&:hover:not($disabled):after":{borderBottomColor:W},"&:not($disabled):before":{borderBottomColor:W},"&:hover:not($disabled):before":{borderBottomColor:W}}}}}),X=w.a.h2(c||(c=Object(E.a)(["\n  color: ",";\n  font-size: 1.8em;\n  margin: 0;\n  padding-bottom: 10px;\n  text-align: center;\n"])),$),H=n(227),V=Object(w.a)(H.a)(r||(r=Object(E.a)(["\n    height: 100vh;\n    padding-top: 10vh;\n"]))),q=w.a.div(o||(o=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n  margin: 35px 0 5px;\n"]))),K=n(35),Q=function(e){return e.wallet},Z=Object(K.a)(Q,(function(e){return e.balances})),ee=Object(K.a)(Q,(function(e){return e.currencies})),te=function(e){return e.exchange},ne=Object(K.a)(te,(function(e){return e.mode})),ae=Object(K.a)(te,(function(e){return e.baseAmount})),ce=Object(K.a)(te,(function(e){return e.baseCurrency})),re=Object(K.a)(te,(function(e){return e.targetAmount})),oe=Object(K.a)(te,(function(e){return e.targetCurrency})),ie=Object(K.a)(te,(function(e){return e.rates[e.targetCurrency]})),ue=Object(K.a)(te,(function(e){return e.error})),be=Object(K.a)(te,(function(e){return e.errorText})),se=Object(K.a)(te,(function(e){return e.targets})),le=n(19),de=n(16),je={init:Object(de.createAction)("@exchange/init")(),rates:Object(de.createAction)("@exchange/rates")(),changeMode:Object(de.createAction)("@exchange/changeMode")(),changeBaseCurrency:Object(de.createAction)("@exchange/changeBaseCurrency")(),changeTargetCurrency:Object(de.createAction)("@exchange/changeTargetCurrency")(),return:Object(de.createAction)("@exchange/return")(),makeExchange:Object(de.createAction)("@exchange/makeExchange")(),updateBaseAmount:Object(de.createAction)("@exchange/updateBaseAmount")(),updateTargetAmount:Object(de.createAction)("@exchange/updateTargetAmount")()},Oe={resetBalances:Object(de.createAction)("@wallet/resetBalances")(),runExchange:Object(de.createAction)("@wallet/runExchange")(),updateBalances:Object(de.createAction)("@wallet/updateBalances")()},he=n(7),fe=w.a.form(i||(i=Object(E.a)(["\n  position: relative;\n"]))),xe=w.a.div(u||(u=Object(E.a)(["\n  color: lightcoral;\n  display: flex;\n  font-weight: 600;\n  justify-content: center;\n  margin-top: -10px;\n"]))),ge=w.a.div(b||(b=Object(E.a)(["\n  display: flex;\n"]))),pe=w.a.div(s||(s=Object(E.a)(["\n  color: lightcoral;\n  display: flex;\n  font-size: 12px;\n  justify-content: flex-end;\n  position: relative;\n  right: 0px;\n  top: -8px;\n  width: 100%;\n"]))),me=w.a.div(l||(l=Object(E.a)([" \n  color: red;\n  display: ",";\n  justify-content: center;\n  font-weight: 600;\n  font-size: 14px;\n  position: absolute;\n  width: 100%;\n"])),(function(e){return e.visible?"flex":"none"})),ye=Object(w.a)(L.a)(d||(d=Object(E.a)(["\n  top: 127px;\n  left: 175px;\n"]))),ve=Object(w.a)(U.a)(j||(j=Object(E.a)(["\n  justify-content: flex-end;\n  overflow: hidden;\n  width: 25px;\n\n"]))),Ce=function(){var e=Object(S.d)(),t=Object(S.e)(Z),n=Object(S.e)(ae),a=Object(S.e)(ce),c=Object(S.e)(ee),r=Object(S.e)(be),o=Object(S.e)(ue),i=Object(S.e)(ne),u=Object(S.e)(ie),b=Object(S.e)(se),s=Object(S.e)(re),l=Object(S.e)(oe),d=Object(y.useState)(""),j=Object(M.a)(d,2),O=j[0],h=j[1];Object(y.useEffect)((function(){var e=i===le.ExchangeMode.SELL?"for":"with";h("".concat(i," ").concat(a," ").concat(e," ").concat(l))}),[i,a,l]);return Object(he.jsxs)(fe,{"data-testid":"Exchange",autoComplete:"off",children:[Object(he.jsxs)(X,{"data-testid":"Title",children:[" ",i," ",a]}),Object(he.jsxs)(xe,{"data-testid":"Rate",children:[" 1 ",a," = ",u," ",l]}),Object(he.jsxs)(ge,{children:[Object(he.jsx)(U.a,{"data-testid":"baseAmount",id:"baseAmount",label:a,style:{flexGrow:1},value:n,onChange:function(n){n.target.value&&!/^\d+(\.([0-9]([0-9])?)?)?$/.test(n.target.value)||e(je.updateBaseAmount({value:n.target.value,baseBalance:t[a],targetBalance:t[l]}))}}),Object(he.jsx)(ve,{id:"standard-select-currency",select:!0,value:"",onChange:function(t){e(je.changeBaseCurrency({selected:t.target.value,currencies:c}))},children:b.filter((function(e){return e!==a})).map((function(e,t){return Object(he.jsx)(R.a,{value:e,children:e},t)}))})]}),Object(he.jsxs)(pe,{children:["Balance: ",t[a]," ",a]}),Object(he.jsx)(ye,{onClick:function(){return e(je.changeMode())},children:i===le.ExchangeMode.SELL?Object(he.jsx)(D.a,{}):Object(he.jsx)(I.a,{})}),Object(he.jsxs)(ge,{children:[Object(he.jsx)(U.a,{"data-testid":"targetAmount",id:"targetAmount",label:l,value:s,style:{flexGrow:1,marginTop:"15px"},onChange:function(n){n.target.value&&!/^\d+(\.([0-9]([0-9])?)?)?$/.test(n.target.value)||e(je.updateTargetAmount({value:n.target.value,baseBalance:t[a],targetBalance:t[l]}))}}),Object(he.jsx)(ve,{id:"standard-select-currency",select:!0,value:"",onChange:function(t){e(je.changeTargetCurrency({selected:t.target.value,currencies:c}))},children:b.filter((function(e){return e!==l})).map((function(e,t){return Object(he.jsx)(R.a,{value:e,children:e},t)}))})]}),Object(he.jsxs)(pe,{children:["Balance: ",t[l]," ",l]}),Object(he.jsx)(me,{visible:o,children:r}),Object(he.jsxs)(q,{children:[Object(he.jsx)(P.a,{color:"primary","data-testid":"ReturnButton",onClick:function(){return e(je.return())},variant:"contained",children:"Return"}),Object(he.jsx)(P.a,{color:"primary","data-testid":"SubmitButton",disabled:o,onClick:function(){return e(je.makeExchange())},style:{flexGrow:1},variant:"contained",children:O})]})]})},Ae=n(233),Be=n(232),Ee=Object(w.a)(Be.a)(O||(O=Object(E.a)(["\n  color: lightcoral !important;\n  position: relative;\n  top: -3px;\n"]))),we=w.a.div(h||(h=Object(E.a)([" \n  font-size: 20px;\n  margin: 0 10px;\n"]))),Se=function(e){var t=e.balance,n=e.currency,a=e.onExchangeClick;return Object(he.jsxs)(we,{"data-testid":"WalletRow",children:[Object(he.jsx)(Ee,{"data-testid":"ExchangeButton",onClick:a,children:Object(he.jsx)(Ae.a,{})}),Object(he.jsxs)("span",{"data-testid":"Balance",children:[Object(he.jsx)("b",{"data-testid":"Currency",children:n})," ",t]})]})},ke=w.a.div(f||(f=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: -30px;\n"]))),Te=Object(w.a)(P.a)(x||(x=Object(E.a)(["\n  width: 100%;\n"]))),Me=function(){var e=Object(S.d)(),t=Object(S.e)(Z),n=Object(S.e)(ee);return Object(he.jsxs)("div",{"data-testid":"Wallet",children:[Object(he.jsxs)(X,{"data-testid":"Title",children:[" ","Balances"," "]}),Object(he.jsx)(ke,{"data-testid":"Balances",children:n.map((function(n,a){return Object(he.jsx)(Se,{balance:t[n],currency:n,onExchangeClick:function(){return e(Oe.runExchange(n))}},a)}))}),Object(he.jsx)(q,{children:Object(he.jsx)(Te,{"data-testid":"ResetButton",onClick:function(){return e(Oe.resetBalances())},color:"primary",variant:"contained",children:"Reset balances to initial state"})})]})},Le=n(49),Ue=n(134),Re=n(241),Pe=n(237),De=n(90),Ie=n(15),Ne=function(e,t){var n=t.findIndex((function(t){return t===e}));if(n<0)throw new TypeError("Base currency is not in the list");return 0===n?t[1]:t[0]},Ge=function(e){return Math.round(100*+e)/100},_e=function(e,t,n){var a,c,r,o=e.baseAmount,i=e.targetAmount,u=e.baseCurrency,b=e.targetCurrency,s=e.mode,l=e.rates,d=t.baseBalance,j=t.targetBalance,O=t.value,h="";if(O.match(/^\d+\.$/g))a=!0,c=n?O:o,r=n?i:O;else if(""===O)a=!0,c="",r="";else if(n)if(s===le.ExchangeMode.SELL)a=+O>d,h="Insufficient ".concat(u," balance"),c=O,r=Ge(+O*l[b]).toString();else{var f=Ge(+O*l[b]);a=f>j,h="Insufficient ".concat(b," balance"),c=O,r=f.toString()}else if(s===le.ExchangeMode.SELL){var x=Ge(+O/l[b]);a=x>d,h="Insufficient ".concat(u," balance"),c=x.toString(),r=O}else a=+O>j,h="Insufficient ".concat(b," balance"),c=Ge(+O/l[b]).toString(),r=O;return{baseAmount:c,targetAmount:r,error:a,errorText:h}},ze={active:!1,baseAmount:"",baseCurrency:le.Currency.EUR,error:!0,errorText:"",mode:le.ExchangeMode.SELL,rates:{},targetAmount:"",targetCurrency:le.Currency.USD,targets:[]},$e=Object(de.createReducer)(ze).handleAction(je.init,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),{},{active:!0,baseCurrency:n.base,targetCurrency:Ne(n.base,n.currencies)||n.currencies[0],targets:n.currencies})})).handleAction(je.return,(function(){return ze})).handleAction(je.rates,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),{},{rates:n.rates,baseCurrency:n.base})})).handleAction(je.updateBaseAmount,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),_e(e,n,!0))})).handleAction(je.updateTargetAmount,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),_e(e,n,!1))})).handleAction(Oe.updateBalances,(function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{baseAmount:"",targetAmount:""})})).handleAction(je.changeMode,(function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{baseAmount:"",error:!0,errorText:"",mode:e.mode===le.ExchangeMode.BUY?le.ExchangeMode.SELL:le.ExchangeMode.BUY,targetAmount:""})})).handleAction(je.makeExchange,(function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{error:!0,errorText:""})})).handleAction(je.changeBaseCurrency,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),{},{baseCurrency:n.selected,targetCurrency:n.selected===e.targetCurrency?Ne(n.selected,n.currencies)||n.currencies[0]:e.targetCurrency,targets:n.currencies,baseAmount:"",error:!0,errorText:"",targetAmount:""})})).handleAction(je.changeTargetCurrency,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),{},{baseCurrency:n.selected===e.baseCurrency?Ne(n.selected,n.currencies)||n.currencies[0]:e.baseCurrency,targetCurrency:n.selected,targets:n.currencies,baseAmount:"",error:!0,errorText:"",targetAmount:""})})),Ye=n(47),Fe=(g={},Object(Ye.a)(g,le.Currency.USD,100),Object(Ye.a)(g,le.Currency.EUR,200),Object(Ye.a)(g,le.Currency.GBP,300),Object(Ye.a)(g,le.Currency.PLN,400),g),We={balances:Fe,currencies:[le.Currency.USD,le.Currency.EUR,le.Currency.GBP,le.Currency.PLN]},Je=Object(de.createReducer)(We).handleAction(Oe.resetBalances,(function(e){return Object(Ie.a)(Object(Ie.a)({},e),{},{balances:Object(Ie.a)({},Fe)})})).handleAction(Oe.updateBalances,(function(e,t){var n=t.payload;return Object(Ie.a)(Object(Ie.a)({},e),{},{balances:n})})),Xe=n(26),He=n(108),Ve=n(234),qe=n(32),Ke=n(235),Qe=n(236),Ze=(n(67),n(143)),et=n.n(Ze),tt=null,nt=function(e){var t={params:{symbols:"USD,PLN,GBP,EUR",base:e},headers:{}};return(tt||(tt=et.a.create({})),tt).get("https://data.fixer.io/api/latest?access_key=4e8faff8b19cdd9877d40145e04b7148",t).pipe(Object(qe.a)((function(e){return e.data})),Object(qe.a)((function(e){return{base:e.base,rates:e.rates}})))},at=Object(Pe.a)((function(e,t){return e.pipe(Object(He.a)(Object(de.isActionOf)(Oe.runExchange)),Object(Ve.a)(t.pipe(Object(qe.a)((function(e){return ee(e)})))),Object(qe.a)((function(e){var t=Object(M.a)(e,2),n=t[0].payload,a=t[1];return je.init({base:n,currencies:a})})))}),(function(e){return e.pipe(Object(He.a)(Object(de.isActionOf)(je.return)),Object(Qe.a)(Object(Xe.d)("/balances")))}),(function(e){return e.pipe(Object(He.a)(Object(de.isActionOf)(Oe.runExchange)),Object(Ke.a)((function(e){var t=e.payload;return nt(t).pipe(Object(qe.a)((function(e){return je.rates(e)})))})))})),ct=Object(Pe.a)((function(e){return e.pipe(Object(He.a)(Object(de.isActionOf)(Oe.runExchange)),Object(Qe.a)(Object(Xe.d)("/currency")))}),(function(e,t){return e.pipe(Object(He.a)(Object(de.isActionOf)(je.makeExchange)),Object(Ve.a)(t.pipe(Object(qe.a)((function(e){return e.wallet}))),t.pipe(Object(qe.a)((function(e){return e.exchange})))),Object(qe.a)((function(e){var t,n,a,c=Object(M.a)(e,3),r=c[1].balances,o=c[2];return o.mode===le.ExchangeMode.BUY?(n=Ge(r[o.baseCurrency]+ +o.baseAmount),a=Ge(r[o.targetCurrency]-+o.targetAmount)):(n=Ge(r[o.baseCurrency]-+o.baseAmount),a=Ge(r[o.targetCurrency]+ +o.targetAmount)),Oe.updateBalances(Object(Ie.a)(Object(Ie.a)({},r),{},(t={},Object(Ye.a)(t,o.baseCurrency,n),Object(Ye.a)(t,o.targetCurrency,a),t)))})))})),rt=Object(Re.a)(),ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||De.c,it=Object(Le.a)(),ut=Object(Pe.a)(at,ct),bt=Object(De.d)((p=it,Object(De.b)({router:Object(k.b)(p),wallet:Je,exchange:$e})),ot(Object(De.a)(rt,Object(Ue.a)(it))));rt.run(ut);var st=Object(w.a)((function(e){var t=e.className;return Object(he.jsx)("div",{className:t,children:Object(he.jsx)(S.a,{store:bt,children:Object(he.jsx)(V,{children:Object(he.jsx)(G,{children:Object(he.jsx)(k.a,{history:it,children:Object(he.jsx)(T.c,{history:it,children:Object(he.jsxs)(T.d,{children:[Object(he.jsx)(T.b,{exact:!0,path:"/balances",component:Me}),Object(he.jsx)(T.b,{exact:!0,path:"/currency",component:Ce}),Object(he.jsx)(T.b,{children:Object(he.jsx)(T.a,{to:"/balances"})})]})})})})})})})}))(m||(m=Object(E.a)(["\n  background-color: aliceblue;\n  height: 100vh;\n"])));n(190);C.a.render(Object(he.jsx)(A.a,{theme:J,children:Object(he.jsx)(B.a,{maxSnack:5,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(he.jsx)(st,{})})}),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.2dfdd7e8.chunk.js.map